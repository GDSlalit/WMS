{% extends "layout.html" %}

{% block pageTitle %}
  Service list – {{ serviceName }} – NHS.UK prototype kit
{% endblock %}

{% block beforeContent %}
  <a class="govuk-back-link" href="javascript:window.history.back()">Back</a>
{% endblock %}

{% block content %}
<div class="govuk-grid-row">
    <div class="govuk-grid-column-two-thirds-from-desktop">

      <h1 class="govuk-heading-l">List of services available in your area</h1>
	  
    </div>
 </div>
 <!DOCTYPE html>
<!-- saved from url=(0014)about:internet -->
<html lang="en">
<html>

<head>
  <title>Test</title>

</head>

<body>

  <script type="text/javascript">
    function processData(csv) {

      let data = csv.split(/\r\n|\n/).map(v => v.split(','));

      let headers = data.shift();

      let table = document.createElement('table');

      let thead = document.createElement('thead');
      table.appendChild(thead);

      thead.innerHTML = '<tr><th>' + headers.join('</th><th>') + '</th></tr>';

      let tbody = document.createElement('tbody');
      table.appendChild(tbody);

      for (let row of data) {
        tbody.innerHTML += '<tr><td>' + row.join('</td><td>') + '</td></tr>';
      }

      document.body.appendChild(table);

    }

    // I uploaded the CSV to a personal repo for this example,
    // but you CAN use a local file as long as you *serve* it
    fetch("https://raw.githubusercontent.com/GDSlalit/LalitTestDocs/main/testdata01.csv")
      .then(res => res.text())
      .then(text => processData(text));
  </script>

</body>

</html>


{% endblock %}
